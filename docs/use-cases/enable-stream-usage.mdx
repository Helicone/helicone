---
title: "Correct cost calculation while streaming"
description: "Get the most accurate and up-to-date pricing calculation."
---

Currently, Helicone is manually calculating model costs when using streaming, which may be sometimes be inaccurate and outdated. 

With the latest version of OpenAI, Helicone can now accurately captures cost and usage for you, by including a `include_usage` key in the body. 



### Example 

<CodeGroup>

```python Python
client.chat.completions.create(
    model="gpt-4o",
    max_tokens=100,
    messages=[
        {"role": "system", "content": "You are a great storyteller."},
        {"role": "user", "content": "Once upon a time in a galaxy far, far away..."}
    ],
    stream=True,
    stream_options={
        "include_usage": True # set to true
    }
)
```

```ts Typescript
openai.chat.completions.create(
    {
      messages: [
        {
          role: "user",
          content: "Generate an abstract for a course on space.",
        },
      ],
      model: "gpt-4",
      stream=true,
      stream_options: {
        include_usage: true, // set to true
      },
    }
  );
```

</CodeGroup>

