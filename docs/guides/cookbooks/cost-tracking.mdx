---
title: "Cost Tracking & Optimization"
sidebarTitle: "Cost Tracking"
description: "Monitor LLM spending, optimize costs, and understand unit economics across your AI application"
---

Track and optimize your LLM costs across all providers. Helicone provides detailed cost analytics and optimization tools to help you manage your AI budget effectively.

## How We Calculate Costs

Helicone uses two systems for cost calculation depending on your integration method:

### AI Gateway (100% Accurate)
When using Helicone's AI Gateway, we have complete visibility into model usage and calculate costs precisely using our [Model Registry v2](https://helicone.ai/models) system in `/packages/cost/models`.

### Best Effort (Without Gateway)
For direct provider integrations, we use our open-source cost repository (`/packages/cost/providers`) with pricing for 300+ models. This provides best-effort cost estimates based on model detection and token counts.

<Note>
**Cost not showing?** If your model costs aren't supported, [join our Discord](https://discord.com/invite/HwUbV3Q8qz) or email [help@helicone.ai](mailto:help@helicone.ai) and we'll add support quickly.
</Note>

## Core Cost Management Features

Helicone combines multiple features to provide comprehensive cost tracking:

<CardGroup cols={2}>
<Card title="Dashboard Analytics" icon="chart-line">
  Real-time cost metrics, trends, and breakdowns by provider, model, and time period
</Card>
<Card title="Session Economics" icon="calculator">
  Track unit economics with cost per session, request counts, and efficiency metrics
</Card>
<Card title="Custom Segmentation" icon="filter">
  Use properties to segment costs by user tier, feature, department, or any dimension
</Card>
<Card title="Smart Alerts" icon="bell">
  Prevent overspending with threshold alerts on daily, weekly, or monthly budgets
</Card>
</CardGroup>

### Session-Level Unit Economics

Understanding cost per user interaction is critical. Sessions aggregate requests to show:
- **Total cost per session** - Complete interaction cost
- **Request count per session** - Efficiency metric  
- **Average session cost** - Baseline for optimization
- **Cost distribution** - Identify expensive outliers

```typescript
// Track session costs automatically
const response = await openai.chat.completions.create(
  { 
    model: "gpt-4o", 
    messages: [...] 
  },
  {
    headers: {
      "Helicone-Session-Id": "user-chat-123",
      "Helicone-Session-Name": "Customer Support"
    }
  }
);
```

### Cost Segmentation with Properties

Track costs by any business dimension using custom properties:

```typescript
headers: {
  "Helicone-Property-UserTier": "premium",
  "Helicone-Property-Feature": "chat",
  "Helicone-Property-Department": "engineering"
}
```

This enables reporting like:
- Cost per user tier (free vs premium)
- Feature-level economics
- Department chargebacks
- A/B test cost comparison

## AI Gateway Cost Optimization

The AI Gateway automatically optimizes costs through intelligent routing:

### Automatic Cost-Based Ordering
Models are sorted by cost within each phase, ensuring you always use the cheapest available option first.

### Two-Phase Routing System

**Phase 1: BYOK (Your Credits First)**
- Uses your API keys when configured
- Prioritizes your existing credits/commitments
- Sorted by cost (cheapest first)

**Phase 2: PTB Fallback**  
- Falls back to Helicone's keys if BYOK fails
- Also sorted by cost
- Ensures maximum uptime

```typescript
// Gateway automatically routes to cheapest available provider
await gateway.chat.completions.create({
  model: "claude-3.5-sonnet", // Routes to cheapest: Anthropic → AWS Bedrock → Vertex
  messages: [...]
});
```

### Smart Caching

Reduce costs by caching identical requests:

```typescript
headers: {
  "Helicone-Cache-Enabled": "true"
}
```

Benefits:
- Eliminate duplicate API calls during development
- Instant responses for repeated queries
- Automatic cost savings on cached hits

## Cost Analytics & Insights

### Key Metrics
Monitor essential cost indicators:
- **Total spend** by period
- **Cost per request** averages
- **Token efficiency** across models
- **Provider breakdown** 
- **Model comparison** for optimization

### Identify Cost Drivers

The dashboard helps you find:
- **Expensive users** driving high costs
- **Costly features** to optimize
- **Inefficient prompts** generating excess tokens
- **Long sessions** with high cumulative spend

### Spending Trends
Track patterns over time:
- Daily/weekly/monthly trends
- Usage spikes and anomalies
- Growth rate projections
- Cost per request improvements

## Budget Controls & Alerts

### Cost Alerts
Set up notifications before overspending:

<Steps>
<Step title="Navigate to Settings → Alerts" />
<Step title="Create cost threshold alert" />
<Step title="Set daily or monthly limits" />
<Step title="Configure notification channels" />
</Steps>

Alert examples:
- Daily spending exceeds $100
- Monthly budget reaches 80%
- Hourly spike detection
- Per-user spending limits

### Rate Limiting
Control costs through request limits:

```typescript
// Configure limits by user tier
{
  "free": {
    "requests_per_hour": 100,
    "monthly_spend_limit": 5.00
  },
  "premium": {
    "requests_per_hour": 1000,
    "monthly_spend_limit": 100.00
  }
}
```

## Optimization Best Practices

### Model Selection Strategy

<Tabs>
  <Tab title="High Quality Tasks">
    Complex reasoning, critical operations:
    - `gpt-4o` - Best reasoning
    - `claude-3.5-sonnet-v2` - Balanced performance
  </Tab>
  
  <Tab title="General Purpose">
    Standard applications:
    - `gpt-4o-mini` - 10x cheaper than GPT-4
    - `claude-3.5-haiku` - Fast and affordable
  </Tab>
  
  <Tab title="High Volume">
    Simple tasks, bulk processing:
    - `gemini-flash` - Extremely cost-effective
    - `gpt-4o-mini` - OpenAI budget option
  </Tab>
</Tabs>

### Quick Optimization Checklist

- [ ] Enable caching for development/testing
- [ ] Use AI Gateway for automatic cost routing
- [ ] Set up spending alerts
- [ ] Implement rate limiting by user tier
- [ ] Track session-level economics
- [ ] Review expensive requests weekly

## Next Steps

<CardGroup cols={2}>
<Card title="Set Up Alerts" icon="bell" href="/features/alerts">
  Configure spending thresholds and notifications
</Card>
<Card title="Enable Caching" icon="database" href="/features/advanced-usage/caching">
  Reduce duplicate request costs
</Card>
<Card title="Configure Gateway" icon="route" href="/gateway/overview">
  Use automatic cost-based routing
</Card>
<Card title="Track Sessions" icon="layer-group" href="/features/sessions">
  Monitor unit economics per interaction
</Card>
</CardGroup>