---
title: "Secure Your Gateway with Helicone"
sidebarTitle: "Secure Your Gateway"
description: "Authentication integration with the Helicone platform"
---

The AI Gateway integrates with Helicone to provide secure authentication for your AI requests. When enabled, the gateway requires valid Helicone API keys for all requests, ensuring only authorized users can access your provider API keys.

**Benefits:**
- **Secure your gateway** by requiring valid API keys for all requests
- **Centralized access control** through the Helicone platform
- **Real-time key validation** with local caching for resilience
- **Easy key management** through the Helicone dashboard

## Quick Start

<Steps>
  <Step title="Set your Helicone API key">
    Add your Helicone API key as an environment variable:

    ```bash
    export HELICONE_CONTROL_PLANE_API_KEY=sk-helicone-your-api-key
    ```
  </Step>
  
  <Step title="Enable Helicone authentication">
    Create or update your `ai-gateway-config.yaml`:

    ```yaml
    helicone:
      authentication: true
      observability: false  # Set to true to enable observability
    
    routers:
      default:
        load-balance:
          chat:
            strategy: latency
            providers:
              - openai
              - anthropic
    ```
  </Step>
  
  <Step title="Start the gateway">
    ```bash
    npx @helicone/ai-gateway@latest --config ai-gateway-config.yaml
    ```
  </Step>
  
  <Step title="Test with authentication">
    ```bash
    curl -X POST http://localhost:8080/router/default/v1/chat/completions \
      -H "Authorization: Bearer sk-helicone-your-api-key" \
      -H "Content-Type: application/json" \
      -d '{
        "model": "gpt-4o-mini",
        "messages": [{"role": "user", "content": "Hello!"}]
      }'
    ```
    
    âœ… Your request is authenticated and routed to the provider!
  </Step>
</Steps>

<Warning>
  **Security Warning**: Without authentication enabled or limited network access, anyone with access to your AI Gateway can use your provider API keys. Enable Helicone authentication to secure your deployment.
</Warning>

## How Authentication Works

When enabled, the AI Gateway connects to Helicone's control plane for real-time authentication validation.

<Steps>
  <Step title="WebSocket Connection">
    Gateway establishes persistent connection to Helicone control plane with automatic reconnection and exponential backoff
  </Step>
  
  <Step title="API Key Sync">
    Authorized API keys and user data are cached locally for fast validation and resilience during network issues
  </Step>
  
  <Step title="Request Validation">
    Incoming requests are validated against cached keys with graceful degradation - cached keys continue working during temporary connectivity issues
  </Step>
  
  <Step title="Access Control">
    Only requests with valid Helicone API keys are allowed through to your provider APIs
  </Step>
</Steps>

## Configuration Examples

<Tabs>
  <Tab title="Production - Secure">
    **Use case:** Production deployment requiring authentication.

    ```yaml
    helicone:
      authentication: true
      observability: false  # Set to true to enable observability
    ```
    
    **Environment variables:**
    ```bash
    HELICONE_CONTROL_PLANE_API_KEY=sk-helicone-your-api-key
    ```

    **Result:** All requests require valid Helicone API keys for access.
  </Tab>

  <Tab title="Self-Hosted Helicone">
    **Use case:** Using a self-hosted Helicone instance with custom endpoints.

    ```yaml
    helicone:
      authentication: true
      observability: false  # Set to true to enable observability
      base-url: "https://helicone.your-domain.com"
      websocket-url: "wss://helicone.your-domain.com/ws/v1/router/control-plane"
    ```
    
    **Environment variables:**
    ```bash
    HELICONE_CONTROL_PLANE_API_KEY=sk-helicone-your-api-key
    ```
  </Tab>

  <Tab title="Secure Network - Auth Disabled">
    **Use case:** Deployment within a secure network (VPN, private cloud) where network-level access control provides security.

    ```yaml
    helicone:
      authentication: false
      observability: false
    ```
    
    **Result:** No authentication required. Network security controls access.
  </Tab>

</Tabs>

## Authentication Usage

When authentication is enabled (`authentication: true`), include your Helicone API key with every request:

```bash
curl -X POST http://localhost:8080/router/default/v1/chat/completions \
  -H "Authorization: Bearer sk-helicone-abc123def456" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-4o-mini",
    "messages": [{"role": "user", "content": "Hello!"}]
  }'
```

The gateway validates keys in real-time through a persistent WebSocket connection to Helicone's control plane. Keys are cached locally for resilience during network issues.

<Note>
  For complete configuration options, see the [Configuration Reference](/ai-gateway/config#helicone-add-ons).
</Note>

## Security

**Access Control:** Requests without valid Helicone API keys are rejected with 401 Unauthorized. Your provider API keys (OpenAI, Anthropic, etc.) remain secure in the gateway environment and are never transmitted to Helicone.

**Secure Communication:** All data transmission to Helicone uses TLS encryption for secure key validation.