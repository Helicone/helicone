'use client';
import{__rest as e}from"tslib";import r from"../../../assets/ArrowDownHeadIcon.js";import t,{useMemo as a,isValidElement as o}from"react";import l from"../../../assets/XCircleIcon.js";import{border as n}from"../../../lib/shape.js";import{sizing as s}from"../../../lib/sizing.js";import{spacing as m}from"../../../lib/spacing.js";import{tremorTwMerge as d}from"../../../lib/tremorTwMerge.js";import{makeClassName as i}from"../../../lib/utils.js";import{constructValueToNameMapping as c,getSelectButtonColors as u,hasValue as f}from"../selectUtils.js";import{Listbox as b,Transition as p}from"@headlessui/react";import g from"../../../hooks/useInternalState.js";const h=i("Select"),k=t.forwardRef(((i,k)=>{const{defaultValue:w,value:x,onValueChange:v,placeholder:y="Select...",disabled:N=!1,icon:E,enableClear:j=!0,children:C,className:I}=i,V=e(i,["defaultValue","value","onValueChange","placeholder","disabled","icon","enableClear","children","className"]),[X,R]=g(w,x),S=E,T=a((()=>{const e=t.Children.toArray(C).filter(o);return c(e)}),[C]);return t.createElement(b,Object.assign({as:"div",ref:k,defaultValue:X,value:X,onChange:e=>{null==v||v(e),R(e)},disabled:N,className:d("w-full min-w-[10rem] relative text-tremor-default",I)},V),(({value:e})=>{var a;return t.createElement(t.Fragment,null,t.createElement(b.Button,{className:d("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",S?"p-10 -ml-0.5":m.lg.paddingLeft,m.fourXl.paddingRight,m.sm.paddingY,n.sm.all,u(f(e),N))},S&&t.createElement("span",{className:d("absolute inset-y-0 left-0 flex items-center ml-px",m.md.paddingLeft)},t.createElement(S,{className:d(h("Icon"),"flex-none","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",s.lg.height,s.lg.width)})),t.createElement("span",{className:"w-[90%] block truncate"},e&&null!==(a=T.get(e))&&void 0!==a?a:y),t.createElement("span",{className:d("absolute inset-y-0 right-0 flex items-center",m.lg.marginRight)},t.createElement(r,{className:d(h("arrowDownIcon"),"flex-none","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",s.md.height,s.md.width)}))),j&&X?t.createElement("button",{type:"button",className:d("absolute inset-y-0 right-0 flex items-center",m.fourXl.marginRight),onClick:e=>{e.preventDefault(),R(""),null==v||v("")}},t.createElement(l,{className:d(h("clearIcon"),"flex-none","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",s.md.height,s.md.width)})):null,t.createElement(p,{className:"absolute z-10 w-full",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},t.createElement(b.Options,{className:d("divide-y overflow-y-auto outline-none rounded-tremor-default max-h-[228px] left-0","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown",m.twoXs.marginTop,m.twoXs.marginBottom,n.sm.all)},C)))}))}));k.displayName="Select";export{k as default};
