'use client';
"use strict";var e=require("tslib"),r=require("../../../lib/shape.cjs"),t=require("../../../lib/sizing.cjs"),a=require("../../../lib/spacing.cjs"),n=require("../../../lib/tremorTwMerge.cjs"),o=require("react"),l=require("date-fns"),s=require("date-fns/locale"),i=require("@headlessui/react"),d=require("../../../assets/CalendarIcon.cjs"),u=require("../../../assets/XCircleIcon.cjs"),c=require("../Calendar/Calendar.cjs"),m=require("./datePickerUtils.cjs"),g=require("../../../hooks/useInternalState.cjs"),f=require("../DateRangePicker/dateRangePickerUtils.cjs"),b=require("../selectUtils.cjs");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var k=p(o);const h=l.startOfToday(),w=k.default.forwardRef(((p,w)=>{var v;const{value:y,defaultValue:q,onValueChange:x,minDate:N,maxDate:j,placeholder:D="Select date",disabled:T=!1,locale:C=s.enUS,enableClear:M=!0,displayFormat:E,className:P,enableYearNavigation:S=!1,weekStartsOn:O=0,disabledDates:R}=p,X=e.__rest(p,["value","defaultValue","onValueChange","minDate","maxDate","placeholder","disabled","locale","enableClear","displayFormat","className","enableYearNavigation","weekStartsOn","disabledDates"]),[z,V]=g(q,y),F=o.useMemo((()=>{const e=[];return N&&e.push({before:N}),j&&e.push({after:j}),[...e,...null!=R?R:[]]}),[N,j,R]),I=z?f.formatSelectedDates(z,void 0,C,E):D,U=l.startOfMonth(null!==(v=null!=z?z:j)&&void 0!==v?v:h),Y=M&&!T;return k.default.createElement(i.Popover,Object.assign({ref:w,as:"div",className:n.tremorTwMerge("relative w-full min-w-[10rem] text-tremor-default","focus:ring-2 focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted",P)},X),k.default.createElement(i.Popover.Button,{disabled:T,className:n.tremorTwMerge("w-full outline-none text-left whitespace-nowrap truncate focus:ring-2 transition duration-100 rounded-tremor-default flex flex-nowrap","border-tremor-border shadow-tremor-input text-tremor-content-emphasis focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:text-dark-tremor-content-emphasis dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",a.spacing.lg.paddingLeft,Y?a.spacing.fourXl.paddingRight:a.spacing.twoXl.paddingRight,a.spacing.sm.paddingY,r.border.sm.all,b.getSelectButtonColors(b.hasValue(z),T))},k.default.createElement(d,{className:n.tremorTwMerge(m.makeDatePickerClassName("calendarIcon"),"flex-none shrink-0","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",t.sizing.lg.height,t.sizing.lg.width,a.spacing.threeXs.negativeMarginLeft,a.spacing.sm.marginRight),"aria-hidden":"true"}),k.default.createElement("p",{className:"truncate"},I)),Y&&z?k.default.createElement("button",{type:"button",className:n.tremorTwMerge("absolute outline-none inset-y-0 right-0 flex items-center transition duration-100",a.spacing.twoXl.marginRight),onClick:e=>{e.preventDefault(),null==x||x(void 0),V(void 0)}},k.default.createElement(u,{className:n.tremorTwMerge("flex-none","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",t.sizing.md.height,t.sizing.md.width)})):null,k.default.createElement(i.Transition,{className:"absolute z-10 min-w-min left-0",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},k.default.createElement(i.Popover.Panel,{className:n.tremorTwMerge("divide-y overflow-y-auto outline-none rounded-tremor-default p-3","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown",a.spacing.twoXs.marginTop,a.spacing.twoXs.marginBottom,r.border.sm.all)},(({close:e})=>k.default.createElement(c,{showOutsideDays:!0,mode:"single",defaultMonth:U,selected:z,weekStartsOn:O,onSelect:r=>{null==x||x(r),V(r),e()},locale:C,disabled:F,enableYearNavigation:S})))))}));w.displayName="DatePicker",module.exports=w;
