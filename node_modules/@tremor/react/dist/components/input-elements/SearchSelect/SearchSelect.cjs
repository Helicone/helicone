'use client';
"use strict";var e=require("tslib"),r=require("../../../hooks/useInternalState.cjs"),t=require("react"),a=require("../../../lib/shape.cjs"),l=require("../../../lib/sizing.cjs"),o=require("../../../lib/spacing.cjs"),n=require("../../../lib/tremorTwMerge.cjs"),s=require("../../../lib/utils.cjs"),d=require("@headlessui/react"),i=require("../../../assets/ArrowDownHeadIcon.cjs"),u=require("../../../assets/XCircleIcon.cjs"),m=require("../selectUtils.cjs");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var g=c(t);const b=s.makeClassName("SearchSelect"),f=s.makeClassName("SearchSelect"),p=g.default.forwardRef(((s,c)=>{const{defaultValue:p,value:h,onValueChange:w,placeholder:k="Select...",disabled:x=!1,icon:v,enableClear:N=!0,children:y,className:C}=s,T=e.__rest(s,["defaultValue","value","onValueChange","placeholder","disabled","icon","enableClear","children","className"]),[E,M]=t.useState(""),[q,j]=r(p,h),S=v,{reactElementChildren:V,valueToNameMapping:z}=t.useMemo((()=>{const e=g.default.Children.toArray(y).filter(t.isValidElement);return{reactElementChildren:e,valueToNameMapping:m.constructValueToNameMapping(e)}}),[y]),I=t.useMemo((()=>m.getFilteredOptions(E,V)),[E,V]);return g.default.createElement(d.Combobox,Object.assign({as:"div",ref:c,defaultValue:q,value:q,onChange:e=>{null==w||w(e),j(e)},disabled:x,className:n.tremorTwMerge("w-full min-w-[10rem] relative text-tremor-default",C)},T),(({value:e})=>g.default.createElement(g.default.Fragment,null,g.default.createElement(d.Combobox.Button,{className:"w-full"},S&&g.default.createElement("span",{className:n.tremorTwMerge("absolute inset-y-0 left-0 flex items-center ml-px",o.spacing.md.paddingLeft)},g.default.createElement(S,{className:n.tremorTwMerge(b("Icon"),"flex-none","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",l.sizing.lg.height,l.sizing.lg.width)})),g.default.createElement(d.Combobox.Input,{className:n.tremorTwMerge("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 text-tremor-default pr-14","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",S?"p-10 -ml-0.5":o.spacing.lg.paddingLeft,o.spacing.sm.paddingY,a.border.sm.all,x?"placeholder:text-tremor-content-subtle dark:placeholder:text-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-tremor-content",m.getSelectButtonColors(m.hasValue(e),x)),placeholder:k,onChange:e=>M(e.target.value),displayValue:e=>{var r;return null!==(r=z.get(e))&&void 0!==r?r:""}}),g.default.createElement("div",{className:n.tremorTwMerge("absolute inset-y-0 right-0 flex items-center",o.spacing.md.paddingRight)},g.default.createElement(i,{className:n.tremorTwMerge(b("arrowDownIcon"),"flex-none","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",l.sizing.md.height,l.sizing.md.width)}))),N&&q?g.default.createElement("button",{type:"button",className:n.tremorTwMerge("absolute inset-y-0 right-0 flex items-center",o.spacing.fourXl.marginRight),onClick:e=>{e.preventDefault(),j(""),M(""),null==w||w("")}},g.default.createElement(u,{className:n.tremorTwMerge(f("clearIcon"),"flex-none","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",l.sizing.md.height,l.sizing.md.width)})):null,I.length>0&&g.default.createElement(d.Transition,{className:"absolute z-10 w-full",enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},g.default.createElement(d.Combobox.Options,{className:n.tremorTwMerge("divide-y overflow-y-auto outline-none rounded-tremor-default text-tremor-default max-h-[228px] left-0","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown",o.spacing.twoXs.marginTop,o.spacing.twoXs.marginBottom,a.border.sm.all)},I)))))}));p.displayName="SearchSelect",module.exports=p;
