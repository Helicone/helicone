create table "public"."online_evaluators" (
    "id" bigint generated by default as identity not null,
    "created_at" timestamp with time zone not null default now(),
    "evaluator" uuid not null,
    "config" jsonb,
    "organization" uuid not null
);


REVOKE ALL ON TABLE "public"."online_evaluators" FROM anon;
REVOKE ALL ON TABLE "public"."online_evaluators" FROM authenticated;

alter table "public"."online_evaluators" enable row level security;

CREATE UNIQUE INDEX online_evaluators_pkey ON public.online_evaluators USING btree (id);

alter table "public"."online_evaluators" add constraint "online_evaluators_pkey" PRIMARY KEY using index "online_evaluators_pkey";

alter table "public"."online_evaluators" add constraint "public_online_evaluators_evaluator_fkey" FOREIGN KEY (evaluator) REFERENCES evaluator(id) not valid;

alter table "public"."online_evaluators" validate constraint "public_online_evaluators_evaluator_fkey";

alter table "public"."online_evaluators" add constraint "public_online_evaluators_organization_fkey" FOREIGN KEY (organization) REFERENCES organization(id) not valid;

alter table "public"."online_evaluators" validate constraint "public_online_evaluators_organization_fkey";

alter table "public"."score_attribute" add column "evaluator_id" uuid;

alter table "public"."score_attribute" add constraint "public_score_attribute_evaluator_id_fkey" FOREIGN KEY (evaluator_id) REFERENCES evaluator(id) not valid;

alter table "public"."score_attribute" validate constraint "public_score_attribute_evaluator_id_fkey";